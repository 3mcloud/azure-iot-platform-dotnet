parameters:
  subscriptionName:
  environmentName:
  environmentCategory:
  applicationCode:
  applicationShortCode:
  imageTag:
  blueGreen:

jobs:
      
  - job: deploy
    displayName: Deploy
    steps:

      - ${{ if eq(false,variables['parameters.blueGreen']) }}:
        - task: AzureCLI@2
          inputs:
            azureSubscription: ${{parameters.subscriptionName}}
            addSpnToEnvironment: true
            scriptLocation: inlineScript
            scriptType: bash
            inlineScript: |-
              set -Eeuxo pipefail
              echo "blueGreen-falsecheck":$(blueGreen-acsDev)
              echo "blueGreen-falsecheck":${{parameters.blueGreen}}
              echo "go to  individual services..."

      - ${{ if eq(true,variables['parameters.blueGreen']) }}:
        - task: AzureCLI@2
          inputs:
            azureSubscription: ${{parameters.subscriptionName}}
            addSpnToEnvironment: true
            scriptLocation: inlineScript
            scriptType: bash
            inlineScript: |-
              set -Eeuxo pipefail
              echo "blueGreen-truecheck":$(blueGreen-acsDev)
              echo "blueGreen-truecheck":${{parameters.blueGreen}} 
              echo "go to  bluegreen services..."


      - task: AzureCLI@2
        inputs:
          azureSubscription: ${{parameters.subscriptionName}}
          addSpnToEnvironment: true
          scriptLocation: inlineScript
          scriptType: bash
          inlineScript: |-
            set -Eeuxo pipefail
            echo "non-blueGreen":$(blueGreen-acsDev)
            echo "non-blueGreen":${{parameters.blueGreen}}
            echo "if bluegreen is false": $[eq(false,variables['parameters.blueGreen'])]
            echo "if bluegreen is true": $[eq(true,variables['parameters.blueGreen'])]
                      






